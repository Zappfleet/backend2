"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var _axios = require('axios'); var _axios2 = _interopRequireDefault(_axios);function l(t,r,e){var a,h,i,s,o,u;const n=t.headers["content-type"].split(";")[0];if(!["text/plain","text/html"].includes(n)){if((a=t.data)==null?void 0:a.url){return{longUrl:r,shortUrl:t.data.url}}else if((h=t.data)==null?void 0:h.shortUrl){return{longUrl:r,shortUrl:t.data.shortUrl}}else if((i=t.data)==null?void 0:i.shortenedUrl){return{longUrl:r,shortUrl:t.data.shortenedUrl}}else if((s=t.data)==null?void 0:s.short){return{longUrl:r,shortUrl:t.data.short}}else if((o=t.data)==null?void 0:o.short_url){return{longUrl:r,shortUrl:t.data.short_url}}else if((u=t.data)==null?void 0:u.result_url){return{longUrl:r,shortUrl:t.data.result_url}}}if(["haha","pwm","cya"].includes(e)){return{longUrl:r,shortUrl:`https://${e}.se/${t.data}`}}return{longUrl:r,shortUrl:t.data}}var p=(t,r,e)=>{if(t.method==="get"){return _axios2.default.get(t.url+r,{timeout:e.timeout})}else{return _axios2.default.post(t.url,t.body(r),{timeout:e.timeout})}};var m={isgd:{url:"https://is.gd/create.php?format=simple&url=",method:"get"},cdpt:{url:"https://cdpt.in/shorten?url=",method:"get"},vgd:{url:"https://v.gd/create.php?format=simple&url=",method:"get"},haha:{url:"https://www.haha.se/lank.php?dataLank=",method:"get"},cya:{url:"https://www.haha.se/lank.php?dataLank=",method:"get"},pwm:{url:"https://www.haha.se/lank.php?dataLank=",method:"get"},tnyim:{url:"http://tny.im/yourls-api.php?action=shorturl&format=simple&url=",method:"get"},"4hnet":{url:"https://4h.net/api/?url=",method:"get"},vurl:{url:"https://vurl.com/api.php?url=",method:"get"},tinube:{url:"https://api.tinu.be/api/shorten",method:"post",body:t=>{return{longUrl:t}}},hideuri:{url:"https://hideuri.com/api/v1/shorten",method:"post",body:t=>{return{url:t}}},rbgy:{url:"https://free-url-shortener.rb.gy/shorten",method:"post",body:t=>{return{destination:t,"dryRun":true}}}};var c=async(t,r={provider:"isgd",timeout:2e3})=>{try{const e=await p(m[r.provider],t,r);return l(e,t,r.provider)}catch(e){throw e}};var y=c;exports.default = y;
